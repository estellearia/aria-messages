<style>
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

body {
  background: black;
  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  color: white;
}

.dialogue-wrapper {
  display: none;
  align-items: flex-start;
  background: black;
  color: white;
  border: 3px solid white;
  padding: 16px;
  width: 600px;
  min-height: 90px;
  margin: 0 auto 24px;
  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  line-height: 1.6;
  white-space: pre-wrap;
  box-shadow: 0 0 0 3px black;
  cursor: pointer;
  transition: box-shadow 0.15s;
}
.dialogue-wrapper.active {
  display: flex;
}
.dialogue-avatar {
  width: 64px;
  height: 64px;
  image-rendering: pixelated;
  margin-right: 16px;
}
.dialogue-name {
  color: #ffeb3b;
  display: block;
  margin-bottom: 8px;
}
.begin-button {
  display: none;
  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  padding: 10px 20px;
  background: white;
  color: black;
  border: 3px solid black;
  cursor: pointer;
  margin: 0 auto;
  text-align: center;
  width: fit-content;
  transition: background 0.2s, color 0.2s;
}
.begin-button:hover {
  background: #222;
  color: #ffeb3b;
}
@media (max-width: 650px) {
  .dialogue-wrapper { width: 96vw; min-width: 0; padding: 12px 2vw; }
}
</style>

<!-- Dialogue Boxes -->
<div class="dialogue-wrapper active" onclick="nextDialogue(0)">
  <img class="dialogue-avatar" src="https://i.imgur.com/9OC7GRw.gif" alt="Aria">
  <div class="dialogue-text">
    <span class="dialogue-name">Aria</span>
    <p id="dialogueText0"></p>
  </div>
</div>
<div class="dialogue-wrapper" onclick="nextDialogue(1)">
  <img class="dialogue-avatar" src="https://i.imgur.com/9OC7GRw.gif" alt="Aria">
  <div class="dialogue-text">
    <span class="dialogue-name">Aria</span>
    <p id="dialogueText1"></p>
  </div>
</div>
<div class="dialogue-wrapper" onclick="nextDialogue(2)">
  <img class="dialogue-avatar" src="https://i.imgur.com/9OC7GRw.gif" alt="Aria">
  <div class="dialogue-text">
    <span class="dialogue-name">Aria</span>
    <p id="dialogueText2"></p>
  </div>
</div>
<div class="dialogue-wrapper" onclick="nextDialogue(3)">
  <img class="dialogue-avatar" src="https://i.imgur.com/9OC7GRw.gif" alt="Aria">
  <div class="dialogue-text">
    <span class="dialogue-name">Aria</span>
    <p id="dialogueText3"></p>
  </div>
</div>
<div class="dialogue-wrapper" onclick="nextDialogue(4)">
  <img class="dialogue-avatar" src="https://i.imgur.com/9OC7GRw.gif" alt="Aria">
  <div class="dialogue-text">
    <span class="dialogue-name">Aria</span>
    <p id="dialogueText4"></p>
  </div>
</div>
<div class="dialogue-wrapper" onclick="nextDialogue(5)">
  <img class="dialogue-avatar" src="https://i.imgur.com/9OC7GRw.gif" alt="Aria">
  <div class="dialogue-text">
    <span class="dialogue-name">Aria</span>
    <p id="dialogueText5"></p>
  </div>
</div>

<!-- Begin Button -->
<div class="begin-button" id="beginButton" onclick="location.href='#turbulencegame'">
  ► Begin
</div>

<!-- Typing Blip Sound -->
<audio id="blip" src="https://www.fesliyanstudios.com/play-mp3/387" preload="auto"></audio>

<script>
const lines = [
  "* You’ve been running through storms —",
  "* Hospital walls, endless work shifts,",
  "* And a world that tells us we shouldn’t be.",
  "* It’s unfair. It’s exhausting.",
  "* But you’re still here.",
  "* Let’s see how you handle the turbulence..."
];

function typeText(id, text, callback) {
  const el = document.getElementById(id);
  const blip = document.getElementById("blip");
  let i = 0;
  el.innerText = "";
  function type() {
    if (i < text.length) {
      el.innerText += text.charAt(i);
      if (text.charAt(i) !== " ") {
        try { blip.currentTime = 0; blip.play(); } catch(e){}
      }
      i++;
      setTimeout(type, 36);
    } else if (callback) {
      callback();
    }
  }
  type();
}

function nextDialogue(index) {
  const wrappers = document.getElementsByClassName("dialogue-wrapper");
  const current = wrappers[index];
  current.onclick = null;
  const textId = `dialogueText${index}`;
  typeText(textId, lines[index], () => {
    setTimeout(() => {
      current.classList.remove("active");
      const next = wrappers[index + 1];
      if (next) {
        next.classList.add("active");
        // type the next dialogue immediately for a smooth experience (optional, remove if you want click-to-type)
        typeText(`dialogueText${index+1}`, lines[index+1]);
      } else {
        document.getElementById("beginButton").style.display = "block";
      }
    }, 800);
  });
}

// Show first line with typewriter immediately
typeText("dialogueText0", lines[0]);
</script>
